I need to make this script work:

demo_RAG/rag_unix/rag_milvus.py

It was originally written 1.5 years ago.
Some libraries were modified.

I used Context7 MCP for fasthtml library and Claude library.
Here are some changes that worked for some other scripts:

1. Changed from synchronous to async Anthropic client:
   - Old: anthropic.Anthropic()
   - New: AsyncAnthropic()

2. Changed the streaming code to use async syntax:
   - Old: "with client.messages.stream(...)" and "for chunk_text in stream.text_stream"
   - New: "async with client.messages.stream(...)" and "async for chunk_text in stream.text_stream"

3. Added the WebSocket extension to FastHTML:
   - Old: FastHTML(hdrs=(...), ws_hdr=True)
   - New: FastHTML(hdrs=(...), ws_hdr=True, exts='ws')

4. Fixed the ws_send form attribute:
   - Old: ws_send=""
   - New: ws_send=True

The main problem was that the original old code 
used a synchronous HTTP client inside an async WebSocket handler. This blocked the event loop and prevented the streaming response from being sent to the browser. 

The async client with async context managers allows the code to properly stream chunks as they arrive from Claude.

Please fix the script 

demo_RAG/rag_unix/rag_milvus.py

also please convert it from using local ollama model
to using Anthropic Claude API - specifically model 

    model="claude-sonnet-4-5-20250929"

See the working (fixed) script: 
    fasthtml/test03_chat_claude-4-5.py
